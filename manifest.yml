# Cloud Foundry Deployment Manifest
applications:
  - name: web-search-mcp
    memory: 1G
    instances: 1
    path: target/web-search-mcp-1.0.0-SNAPSHOT.jar
    buildpacks:
      - java_buildpack_offline
    env:
      JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 21.+ } }'
      SPRING_PROFILES_ACTIVE: cloud
      # Web search API configuration (set these in CF or bind via service)
      # WEBSEARCH_API_KEY: your-api-key
      # WEBSEARCH_PROVIDER: BRAVE
      # OAuth2 configuration
      # OAUTH2_JWK_SET_URI: https://your-auth-server/.well-known/jwks.json
      # OAUTH2_ISSUER_URI: https://your-auth-server
    health-check-type: http
    health-check-http-endpoint: /actuator/health/liveness
    routes:
      - route: web-search-mcp.apps.internal
    services: []
    # Bind to services as needed:
    # - my-oauth-service
    # - my-credentials-service
